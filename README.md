# HNU-Auto-Clockin

HNUç–«æƒ…é˜²æ§å’Œå¥åº·ç›‘æµ‹ç³»ç»Ÿæ¯æ—¥è‡ªåŠ¨æ‰“å¡

## æ›´æ–°æ—¥å¿—

2022.12.14 æ‰“å¡ç³»ç»Ÿä¸‹çº¿ï¼Œè¯¥è„šæœ¬ä¹Ÿä¸‹ç­äº†ï¼Œå†ä¹Ÿä¸è§ï¼

2022.10.16 è‡ªåŠ¨æ‰“å¡å½’æ¥ï¼Œçœ‹ä¸­ç‰¹å½¢å¼ä¸»ä¹‰åœŸå´©ç“¦è§£ï¼Œæ°‘ä¸»è‡ªç”±ç²¾ç¥ç…§è€€å…¨ä½“äººæ°‘ä¹‹æ—¥å·²ç»åˆ°æ¥

2022.3.20 å±…ç„¶æç¤ºâ€œè¯·ä½¿ç”¨å¾®ä¿¡ç™»å½•æ‰“å¡â€ï¼Œå¯æ¶ã€‚ä½†é“é«˜ä¸€å°ºé­”é«˜ä¸€ä¸ˆï¼Œå¾…ç ”ç©¶ã€‚

2022.2.24 æ„Ÿè°¢ [@Mufanc](https://github.com/Mufanc) åŒå­¦å…³äºç›´æ¥åœ¨æœ¬åœ°è¯†åˆ«éªŒè¯ç çš„commitğŸ˜‚

2021.6.4 ä½¿ç”¨ç™¾åº¦äº‘å…¬å¼€éªŒè¯ç è¯†åˆ«OCRapiï¼Œä¸å†éœ€è¦ç™¾åº¦è´¦å·ï¼Œæ­¤å¤„æ„Ÿè°¢[GGP](https://github.com/2X-ercha)çš„æé†’ã€‚

## å¦‚ä½•ä½¿ç”¨

æŠŠå¤§è±¡å¡è¿›å†°ç®±éœ€è¦å‡ æ­¥ï¼Ÿ

0. **ç»™æœ¬é¡¹ç›®ç‚¹Star**

1. **åˆ›å»ºä¸€ä¸ªGitHubè´¦å·ï¼Œå°†æœ¬é¡¹ç›®forkåˆ°ä½ è‡ªå·±çš„è´¦å·ä¸‹**
   ![QQ20210316-0.png](https://i.loli.net/2021/03/16/1krc8KwVATBUWCl.png)

2. **é…ç½®å­¦å·ä¸ä¸ªäººä¸­å¿ƒå¯†ç **

    è¿›å…¥ä½ forkè¿‡å»çš„ï¼Œè‡ªå·±åä¸‹çš„é¡¹ç›®ï¼Œç‚¹å‡»Settings -> Secretsé¡µé¢ï¼Œå†ç‚¹å‡»New repository Secretï¼Œåœ¨Nameæ è¾“å…¥**USERNAME**ï¼ŒValueæ è¾“å…¥ä½ çš„å­¦å·ã€‚ç„¶åå†æ·»åŠ ä¸€ä¸ªSecretï¼ŒNameæ ä¸º**PASSWORD**ï¼ŒValueæ å¡«å†™ä½ ç™»å½•ä¸ªäººä¸­å¿ƒçš„å¯†ç ã€‚
    ![QQ20210316-2.png](https://i.loli.net/2021/03/16/4vqF6bsBPfSUDZc.png)

3. **å¡«å†™æ‰“å¡åœ°å€**

    ä½ è¿˜éœ€è¦åˆ†åˆ«ä»¥**PROVINCE**, **CITY**, **COUNTY**ä¸ºNAMEæ·»åŠ ç›¸åº”çš„Secretï¼ŒValueä¸­è¯·æ³¨æ„é¡»åœ¨åœ°ååé¢æ·»åŠ â€œçœâ€œã€â€å¸‚â€œã€â€å¿/åŒºâ€œï¼Œå¦‚â€æ¹–å—çœâ€œã€â€é•¿æ²™å¸‚â€œã€â€å²³éº“åŒºâ€œã€‚å¦å¤–ï¼Œè¯¦ç»†åœ°å€é»˜è®¤ä¸ºä¸€ä¸ªå¥å·ï¼Œä½ å¯ä»¥åœ¨æºä»£ç ï¼ˆclock_in.pyï¼‰ä¸­ä¿®æ”¹ã€‚

4. **å¼€å§‹è‡ªåŠ¨åŒ–è¿è¡Œ**

    è¿›å…¥åˆ°**Actions**ç•Œé¢ï¼Œç‚¹å‡»è¯¥å·¥ä½œæµï¼Œç„¶åRun workflowï¼Œå³å¯å¼€å¯è‡ªåŠ¨åŒ–è¿è¡Œï¼Œä½ å¯ä»¥åœ¨è®¾ç½®é‡Œç»‘å®šé‚®ç®±ä»¥æ¥æ”¶è¿è¡Œå¤±è´¥çš„é€šçŸ¥ã€‚
    ![Snipaste_2021-03-15_21-56-15.png](https://i.loli.net/2021/03/16/oxSp8VYlfskWq53.png)
    ![Snipaste_2021-03-15_21-56-34.png](https://i.loli.net/2021/03/16/xETNukAF8hVS1nw.png)
    ![Snipaste_2021-03-15_21-57-11.png](https://i.loli.net/2021/03/16/XtR6lphCxLQg3an.png)

    ä½ å¯ä»¥åœ¨å¦‚ä¸‹ç•Œé¢ä¸­æ£€æŸ¥è‡ªåŠ¨åŒ–è¿è¡Œæƒ…å†µï¼š
    ![Snipaste_2021-03-15_21-57-49.png](https://i.loli.net/2021/03/16/8RwnFvq1ZBTuMxe.png)
    ![Snipaste_2021-03-15_21-58-06.png](https://i.loli.net/2021/03/16/MSok2D9VYJOBRK7.png)
    ![image.png](https://i.loli.net/2021/03/16/vnaiPEmyx5ugNlW.png)

    æˆ‘è®¾å®šä¸ºæ¯å¤©å‡Œæ™¨0:15è‡ªåŠ¨è¿è¡Œï¼Œä½†GitHubçš„â€œç‰¹æ€§â€æ˜¯è¿è¡Œä¸å‡†æ—¶ï¼Œé€šå¸¸ä¼šå»¶è¿Ÿåˆ°1ç‚¹å·¦å³æ‰å¯åŠ¨ã€‚ä½ å¯ä»¥åœ¨/.github/workflows/python-app.ymlæ–‡ä»¶é‡Œä¿®æ”¹è¿è¡Œæ—¶é—´ï¼Œè¯·æ³¨æ„cronè¯­æ³•ä¸‹çš„æ—¶é—´ä¸ºé›¶æ—¶åŒºæ—¶é—´ï¼Œéœ€è¦å°†åŒ—äº¬æ—¶é—´å‡8ä¸ªå°æ—¶ï¼Œä¸”åˆ†é’Ÿåœ¨å‰å°æ—¶åœ¨åã€‚è¯¦æƒ…å‚è§[POSIX cron è¯­æ³•](https://crontab.guru/)å’Œ[å®˜æ–¹æ–‡æ¡£](https://docs.github.com/cn/actions/reference/events-that-trigger-workflows#)ã€‚

**å¯’æš‘å‡ç¦»æ ¡è¿”æ ¡çŠ¶æ€åˆ‡æ¢ï¼šè¿›å…¥clockin.pyä¸­çš„mainå‡½æ•°æ”¹è¿™ä¸ªIsInCampusçš„æ•°å€¼å°±è¡Œäº†**
![Snipaste_2022-01-15_21-32-04.png](https://s2.loli.net/2022/01/15/GHs2EvakgqNlBOn.png)

## æ¨é€ç›¸å…³

å¡«å…¥ç›¸å…³å‚æ•°ï¼š
- telegram bot:ç‚¹å‡»Settings -> Secretsé¡µé¢ï¼Œå†ç‚¹å‡»New repository Secretï¼Œåœ¨Nameæ è¾“å…¥**BOT_TOKEN**ï¼ŒValueæ è¾“å…¥ä½ çš„tg bot key(å½¢å¦‚xxxxxx:xxxxxxxxxxxxxx)ã€‚ç„¶åå†æ·»åŠ ä¸€ä¸ªSecretï¼ŒNameæ ä¸º**CHAT_ID**ï¼ŒValueæ å¡«å†™æ¥æ”¶æ¶ˆæ¯çš„ç”¨æˆ·/é¢‘é“/ç¾¤ç»„çš„chatid(å¯é€šè¿‡ https://t.me/get_id_bot è·å–è‡ªå·±çš„id)ã€‚
- server chan: ç‚¹å‡»Settings -> Secretsé¡µé¢ï¼Œå†ç‚¹å‡»New repository Secretï¼Œåœ¨Nameæ è¾“å…¥**SC_KEY**ï¼ŒValueæ è¾“å…¥ä½ server chançš„sendkeyï¼ˆè§<a href=https://sct.ftqq.com>server chan</a>çš„key&apiæ ï¼‰
- <br>å¡«å†™æ–¹æ³•åŒ<a href='https://github.com/SagaLinZP/HNU-Auto-Clockin#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8'>å¦‚ä½•ä½¿ç”¨</a>
<br>ä¿®æ”¹å€’æ•°å‡ è¡Œçš„modeçš„æ•°å­—(0ä¸ºtgï¼Œ1ä¸ºserver chan)
